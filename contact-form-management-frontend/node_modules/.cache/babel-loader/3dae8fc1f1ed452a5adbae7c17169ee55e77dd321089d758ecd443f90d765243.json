{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useEffect, useState } from \"react\";\nimport axios from \"axios\";\nexport default function AuthProvider() {\n  _s();\n  const [authenticated, setAuthenticated] = useState(false);\n  const [isLoading, setLoading] = useState(true);\n  useEffect(() => {\n    const validateToken = async () => {\n      const token = localStorage.getItem(\"token\");\n      if (token) {\n        try {\n          const response = await axios.post(\"http://localhost:5165/api/user/check-login\", null, {\n            headers: {\n              token\n            }\n          });\n          console.log(response.status);\n          if (response.status == 200) {\n            setAuthenticated(true);\n          }\n        } catch (error) {\n          console.error(\"Token validation failed:\", error);\n          setAuthenticated(false);\n          localStorage.removeItem(\"token\");\n        }\n      } else {\n        setAuthenticated(false);\n      }\n      setLoading(false);\n    };\n    validateToken();\n  }, []);\n  if (!isLoading) {\n    return {\n      authenticated\n    };\n  } else {\n    return {\n      isLoading: true\n    };\n  }\n}\n_s(AuthProvider, \"MxRJzRMnn3N0Ik975nf/FB7rjmQ=\");\n_c = AuthProvider;\nvar _c;\n$RefreshReg$(_c, \"AuthProvider\");","map":{"version":3,"names":["useEffect","useState","axios","AuthProvider","_s","authenticated","setAuthenticated","isLoading","setLoading","validateToken","token","localStorage","getItem","response","post","headers","console","log","status","error","removeItem","_c","$RefreshReg$"],"sources":["C:/Users/ElifCSE/OneDrive/Masaüstü/projeler/pokedex/contact-form-management-server/contact-form-management-frontend/src/context/AuthContext.jsx"],"sourcesContent":["import { useEffect, useState } from \"react\";\r\nimport axios from \"axios\";\r\n\r\nexport default function AuthProvider() {\r\n  const [authenticated, setAuthenticated] = useState(false);\r\n  const [isLoading, setLoading] = useState(true);\r\n\r\n  useEffect(() => {\r\n    const validateToken = async () => {\r\n      const token = localStorage.getItem(\"token\");\r\n\r\n      if (token) {\r\n        try {\r\n          const response = await axios.post(\r\n            \"http://localhost:5165/api/user/check-login\",\r\n            null,\r\n            {\r\n              headers: {\r\n                token,\r\n              },\r\n            }\r\n          );\r\n          console.log(response.status);\r\n\r\n          if (response.status == 200) {\r\n            setAuthenticated(true);\r\n          }\r\n        } catch (error) {\r\n          console.error(\"Token validation failed:\", error);\r\n          setAuthenticated(false);\r\n          localStorage.removeItem(\"token\");\r\n        }\r\n      } else {\r\n        setAuthenticated(false);\r\n      }\r\n      setLoading(false);\r\n    };\r\n\r\n    validateToken();\r\n  }, []);\r\n\r\n  if (!isLoading) {\r\n    return { authenticated };\r\n  } else {\r\n    return { isLoading: true };\r\n  }\r\n}\r\n"],"mappings":";AAAA,SAASA,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAC3C,OAAOC,KAAK,MAAM,OAAO;AAEzB,eAAe,SAASC,YAAYA,CAAA,EAAG;EAAAC,EAAA;EACrC,MAAM,CAACC,aAAa,EAAEC,gBAAgB,CAAC,GAAGL,QAAQ,CAAC,KAAK,CAAC;EACzD,MAAM,CAACM,SAAS,EAAEC,UAAU,CAAC,GAAGP,QAAQ,CAAC,IAAI,CAAC;EAE9CD,SAAS,CAAC,MAAM;IACd,MAAMS,aAAa,GAAG,MAAAA,CAAA,KAAY;MAChC,MAAMC,KAAK,GAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;MAE3C,IAAIF,KAAK,EAAE;QACT,IAAI;UACF,MAAMG,QAAQ,GAAG,MAAMX,KAAK,CAACY,IAAI,CAC/B,4CAA4C,EAC5C,IAAI,EACJ;YACEC,OAAO,EAAE;cACPL;YACF;UACF,CACF,CAAC;UACDM,OAAO,CAACC,GAAG,CAACJ,QAAQ,CAACK,MAAM,CAAC;UAE5B,IAAIL,QAAQ,CAACK,MAAM,IAAI,GAAG,EAAE;YAC1BZ,gBAAgB,CAAC,IAAI,CAAC;UACxB;QACF,CAAC,CAAC,OAAOa,KAAK,EAAE;UACdH,OAAO,CAACG,KAAK,CAAC,0BAA0B,EAAEA,KAAK,CAAC;UAChDb,gBAAgB,CAAC,KAAK,CAAC;UACvBK,YAAY,CAACS,UAAU,CAAC,OAAO,CAAC;QAClC;MACF,CAAC,MAAM;QACLd,gBAAgB,CAAC,KAAK,CAAC;MACzB;MACAE,UAAU,CAAC,KAAK,CAAC;IACnB,CAAC;IAEDC,aAAa,CAAC,CAAC;EACjB,CAAC,EAAE,EAAE,CAAC;EAEN,IAAI,CAACF,SAAS,EAAE;IACd,OAAO;MAAEF;IAAc,CAAC;EAC1B,CAAC,MAAM;IACL,OAAO;MAAEE,SAAS,EAAE;IAAK,CAAC;EAC5B;AACF;AAACH,EAAA,CA3CuBD,YAAY;AAAAkB,EAAA,GAAZlB,YAAY;AAAA,IAAAkB,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}